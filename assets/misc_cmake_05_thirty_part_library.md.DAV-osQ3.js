import{_ as s,c as i,o as a,a4 as n}from"./chunks/framework.s8d9Ue88.js";const e=JSON.parse('{"title":"CMake中引入三方库","description":"","frontmatter":{"title":"CMake中引入三方库","layout":"doc","categories":"CMake","tags":["CMake"],"comments":true,"date":"2021-07-06T00:56:43.000Z"},"headers":[],"relativePath":"misc/cmake/05_thirty_part_library.md","filePath":"misc/cmake/05_thirty_part_library.md","lastUpdated":1715174870000}'),l={name:"misc/cmake/05_thirty_part_library.md"},p=[n('<h1 id="cmake中引入三方库" tabindex="-1">CMake中引入三方库 <a class="header-anchor" href="#cmake中引入三方库" aria-label="Permalink to &quot;CMake中引入三方库&quot;">​</a></h1><h2 id="引入方式" tabindex="-1">引入方式 <a class="header-anchor" href="#引入方式" aria-label="Permalink to &quot;引入方式&quot;">​</a></h2><h3 id="使用本地库构建-ubuntu" tabindex="-1">使用本地库构建：Ubuntu <a class="header-anchor" href="#使用本地库构建-ubuntu" aria-label="Permalink to &quot;使用本地库构建：Ubuntu&quot;">​</a></h3><ul><li>通过find模块</li><li>通过<strong>FindPkgConfig</strong>导入</li></ul><h3 id="使用源码构建-交叉编译" tabindex="-1">使用源码构建：交叉编译 <a class="header-anchor" href="#使用源码构建-交叉编译" aria-label="Permalink to &quot;使用源码构建：交叉编译&quot;">​</a></h3><ul><li>已经有使用CMake构建的项目（cJSON，dbus）</li><li>没有使用CMake构建的项目： <ul><li>手动增加CMake（lvgl库）</li><li>会写编译脚本：先编译库，然后调用cmake编译项目（curl）</li></ul></li></ul><h1 id="cmake项目引入三方库" tabindex="-1">CMake项目引入三方库 <a class="header-anchor" href="#cmake项目引入三方库" aria-label="Permalink to &quot;CMake项目引入三方库&quot;">​</a></h1><h2 id="三方库" tabindex="-1">三方库: <a class="header-anchor" href="#三方库" aria-label="Permalink to &quot;三方库:&quot;">​</a></h2><p>编译一个三方库之后,会生成一个库配置文件(package config),</p><p>比如sqlite3.pc文件:</p><div class="language-properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Package Information for pkg-config</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">prefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=/usr/local/Cellar/sqlite/3.35.5</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">exec_prefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=${prefix}</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">libdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=${exec_prefix}/lib</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">includedir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=${prefix}/include</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Name: SQLite</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Description: SQL database engine</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Version: 3.35.5</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Libs: -L${libdir} -lsqlite3</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Libs.private: -lz</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Cflags: -I${includedir}</span></span></code></pre></div><p>比如dbus-1.pc文件:</p><div class="language-properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dbus-1.pc</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">original_prefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=/usr/local/Cellar/dbus/1.12.20</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">prefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=${original_prefix}</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">exec_prefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=${prefix}</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bindir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=${exec_prefix}/bin</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">libdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=${exec_prefix}/lib</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">includedir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=${prefix}/include</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">system_bus_default_address</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=unix:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=/usr/local/var/run/dbus/system_bus_socket</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">datarootdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=${prefix}/share</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">datadir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=${datarootdir}</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">sysconfdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=/usr/local/etc</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">session_bus_services_dir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=${datadir}/dbus-1/services</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">system_bus_services_dir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=${datadir}/dbus-1/system-services</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interfaces_dir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=${datadir}/dbus-1/interfaces</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">daemondir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=${bindir}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Name: dbus</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Description: Free desktop message bus</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Version: 1.12.20</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Libs: -L${libdir} -ldbus-1</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Libs.private:</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Cflags: -I${includedir}/dbus-1.0 -I${libdir}/dbus-1.0/include</span></span></code></pre></div><h1 id="findpkgconfig模块" tabindex="-1"><a href="https://cmake.org/cmake/help/latest/module/FindPkgConfig.html" target="_blank" rel="noreferrer">FindPkgConfig</a>模块 <a class="header-anchor" href="#findpkgconfig模块" aria-label="Permalink to &quot;[FindPkgConfig](https://cmake.org/cmake/help/latest/module/FindPkgConfig.html)模块&quot;">​</a></h1>',14)];const t=s(l,[["render",function(s,n,e,l,t,h){return a(),i("div",null,p)}]]);export{e as __pageData,t as default};
