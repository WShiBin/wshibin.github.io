<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>【Software】Barrier:多台电脑共享一套键盘和鼠标 | 施斌斌的知识库</title>
    <meta name="description" content="专注 & 洞察 & 分享">
    <meta name="generator" content="VitePress v1.4.0">
    <link rel="preload stylesheet" href="/assets/style.BBRQKGFw.css" as="style">
    <script type="module" src="/assets/chunks/metadata.aad976b4.js"></script>
    <script type="module" src="/assets/app.nNhLAo1k.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.C9LrD8gL.js">
    <link rel="modulepreload" href="/assets/chunks/framework.DRc6tsBz.js">
    <link rel="modulepreload" href="/assets/posts_2022_08_21_Control-Multiple-Computers-With-One-Keyboard-and-Mouse.md.B84qvz6e.lean.js">
    <link rel="icon" href="/vitepress-logo-mini.svg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle" data-v-6aa21345 data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!----><span data-v-ab179fa1>ShiBin&#39;s Wiki</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/archives.html" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>Blogs</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>CS Primer</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/csprimer/os/" data-v-43f1e123><!--[-->OS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/csprimer/network/" data-v-43f1e123><!--[-->Network<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/csprimer/database/" data-v-43f1e123><!--[-->Database<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/csprimer/compiler/" data-v-43f1e123><!--[-->Compiler<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>Linux</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/linux/01basic/" data-v-43f1e123><!--[-->Basic<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/linux/02app/" data-v-43f1e123><!--[-->App<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/linux/03kernel/" data-v-43f1e123><!--[-->Kernel<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>Language</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/lang/assembly/" data-v-43f1e123><!--[-->Assembly<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/lang/c/" data-v-43f1e123><!--[-->C<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/lang/c++/" data-v-43f1e123><!--[-->C++<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/lang/rust/" data-v-43f1e123><!--[-->Rust<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/lang/typescript/" data-v-43f1e123><!--[-->JS/TS<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>Misc</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/misc/cmake/index.html" data-v-43f1e123><!--[-->CMake<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/misc/cheatsheet/index.html" data-v-43f1e123><!--[-->Cheat Sheet<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/misc/talks.html" data-v-43f1e123><!--[-->Talks<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/misc/about_me.html" data-v-43f1e123><!--[-->About Me<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/WShiBin" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/WShiBin" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--[--><!--[--><div data-v-0fd4bd6f><span class="date" data-v-0fd4bd6f> Published at: </span></div><!--]--><!--]--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _posts_2022_08_21_Control-Multiple-Computers-With-One-Keyboard-and-Mouse" data-v-39a288b8><div><h1 id="barrier-多台电脑共享一套键盘和鼠标" tabindex="-1">Barrier:多台电脑共享一套键盘和鼠标 <a class="header-anchor" href="#barrier-多台电脑共享一套键盘和鼠标" aria-label="Permalink to &quot;Barrier:多台电脑共享一套键盘和鼠标&quot;">​</a></h1><blockquote><p>公司上班会使用两台电脑：一台Ubuntu工作用主机和一台Macbook笔记本。经常需要在两套键盘和鼠标之间切换，加上Macbook的键盘很拉夸，Macbook 的键盘从2015年之后的款就非常拉；16年出的为了做轻薄，出了蝴蝶键盘，跟敲木板似的；M1芯片的mac增加了键程，但也赶不上2015款之前的版本；然后就有标题：能不能多台电脑共享一套鼠标和键盘？</p></blockquote><h2 id="方案" tabindex="-1">方案： <a class="header-anchor" href="#方案" aria-label="Permalink to &quot;方案：&quot;">​</a></h2><ul><li>远程控制</li><li>KVM切换器（硬件）</li><li>软件实现</li></ul><p>单从实现的角度讲有上面这些</p><h3 id="远程控制" tabindex="-1">远程控制 <a class="header-anchor" href="#远程控制" aria-label="Permalink to &quot;远程控制&quot;">​</a></h3><p>从体验的角度看，远程控制体验可定不太好，实现上需要传输屏幕画面+模拟硬件；体验不好的原因主要是传输屏幕画面；当然也可以去做优化，比如说：把屏幕界面切分成很多快，只传输变化了的部分界面；比如腾讯会议里面摄像头可以设置固定背景，这样只需要传输头像的部分数据；还有一个是功能是：在共享屏幕的时候只共享指定的窗口，都是为了减少数据的传输量，来增加用户体验；另外一个是对传输的图像数据进行压缩；那我们知道这些软件的工作原理之后，反过来我们就可以和它打配合，问题来了：怎么样去让这个传输的图像更利于压缩呢？一个简单的方式是：尽可能用纯色的背景，嗯，不要整些花里胡哨的。以上的底层逻辑是：像程序一样去思考</p><h3 id="kvm切换器" tabindex="-1">KVM切换器 <a class="header-anchor" href="#kvm切换器" aria-label="Permalink to &quot;KVM切换器&quot;">​</a></h3><p>KVM的全称是<code>Keyboard Video Mouse</code>，淘宝搜索可以有一堆；使用这个需要额外的硬件和线材成本，在实际的使用过程中也可能需要手动的按键去切换，麻烦</p><h3 id="软件实现" tabindex="-1">软件实现 <a class="header-anchor" href="#软件实现" aria-label="Permalink to &quot;软件实现&quot;">​</a></h3><p>网上搜索一番相应的软件也不少：</p><ul><li><a href="https://symless.com/synergy" target="_blank" rel="noreferrer">Synergy</a>，</li><li><a href="https://github.com/debauchee/barrier" target="_blank" rel="noreferrer">Barrier</a>，</li><li><a href="https://www.sharemouse.com/" target="_blank" rel="noreferrer">ShareMouse</a></li></ul><p>ShareMouse不支持Linux平台；Synergy收费，而Barrier是基于Synergy开源的<a href="https://github.com/symless/synergy-core" target="_blank" rel="noreferrer">symless/synergy-core</a> 1.9 代码，开源免费，最后选择了Barrie</p><h2 id="barrier安装" tabindex="-1">Barrier安装： <a class="header-anchor" href="#barrier安装" aria-label="Permalink to &quot;Barrier安装：&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># macOS</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> brew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> barrier</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Linux：推荐用flatpak方式安装；安装flatpack：https://flatpak.org/setup/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flatpak</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flathub</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com.github.debauchee.barrier</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flatpak</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com.github.debauchee.barrier</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">							# run</span></span></code></pre></div><blockquote><p>macOS遇到的问题，解决方案：去Finder中找到<code>Barrier.app</code>，按住<code>ctrl + click</code>，然后菜单中点击<code>open</code>即可</p></blockquote><img src="/assets/image-2022082154619852_PM.54369eKS.webp" style="zoom:40%;"><h2 id="配置" tabindex="-1">配置： <a class="header-anchor" href="#配置" aria-label="Permalink to &quot;配置：&quot;">​</a></h2><p>打开软件后界面如下：</p><ul><li>Server端：需要共享键盘和鼠标的这台电脑使用Server模式</li><li>Client端：被控制的电脑端使用Client模式</li></ul><img src="/assets/image-2022082155629717_PM.D-_n-A00.webp" style="zoom:50%;"><h3 id="server端配置" tabindex="-1">Server端配置： <a class="header-anchor" href="#server端配置" aria-label="Permalink to &quot;Server端配置：&quot;">​</a></h3><p>点击Configure Server</p><img src="/assets/image-2022082160136397_PM.CWH4NrzD.webp" style="zoom:40%;"><p>这个用来配置屏幕的多台电脑的布局：也就是多台电脑之间屏幕的关系。上图是的IMac.local标识自己当前的台电脑</p><h4 id="添加client端电脑屏幕" tabindex="-1">添加Client端电脑屏幕： <a class="header-anchor" href="#添加client端电脑屏幕" aria-label="Permalink to &quot;添加Client端电脑屏幕：&quot;">​</a></h4><ul><li>拖动右上角的显示器图标到下面网格布局中 <ul><li>把新的显示器拖动到当前电脑屏幕的右边，表示当前鼠标可以通过右移，去操作控制另一台电脑</li></ul></li><li>双击新添加的显示器图标，编辑<code>Screen name</code>；(这个不能乱写，使用Barrier选中client模式时，自动识别出的名字）</li></ul><img src="/assets/image-2022082161430961_PM.CE6TAUuN.webp" style="zoom:40%;"><h3 id="client端配置" tabindex="-1">Client端配置： <a class="header-anchor" href="#client端配置" aria-label="Permalink to &quot;Client端配置：&quot;">​</a></h3><p>可以选择<code>Auto config</code>模式，或是自己手动填写Server端IP</p><h2 id="使用" tabindex="-1">使用： <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;使用：&quot;">​</a></h2><p>上面配置完了之后分别启动Server端和Client端，这样就可以共享Server端的鼠标和键盘了</p><p>另一个特点是：鼠标所在的显示器，就表示键盘能输入到哪台电脑</p><blockquote><p>Note：遇到问题开启log调试（软件菜单栏中）</p></blockquote><h2 id="体验" tabindex="-1">体验 <a class="header-anchor" href="#体验" aria-label="Permalink to &quot;体验&quot;">​</a></h2><p>在公司用了两个月，mac使用linux的键盘：</p><ul><li>支持剪切板跨电脑共享：在这台电脑上复制，在另一台电脑上粘贴，Nice。经测试：能共享复制的文本，共享不了复制的文件</li><li>mac和linux的win键和alt键不一样，可以在设置中修改：把在mac下alt和win互换</li><li>共享键盘时，使用同时按多键时的快捷键，有时会生效。可能按键事件是一个个发过去的，没有真机那么灵敏</li></ul><h2 id="ref" tabindex="-1">Ref: <a class="header-anchor" href="#ref" aria-label="Permalink to &quot;Ref:&quot;">​</a></h2><ul><li><a href="https://symless.com/guides/share-keyboard-mouse" target="_blank" rel="noreferrer">https://symless.com/guides/share-keyboard-mouse</a></li><li><a href="https://www.pcmag.com/how-to/how-to-control-multiple-computers-with-one-keyboard-and-mouse" target="_blank" rel="noreferrer">https://www.pcmag.com/how-to/how-to-control-multiple-computers-with-one-keyboard-and-mouse</a></li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><!----><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>Updated at: <time datetime="2024-04-23T15:41:29.000Z" data-v-e98dd255></time></p></div></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><!----><p class="copyright" data-v-e315a0ad>Copyright © 2017-2024 Shi Bin</p></div></footer><!--[--><!--]--></div></div>
    
    
  </body>
</html>